<nav>
    <div class="navigation">
        {% include 'flash.html' %}
        <ul>
            <li><a  href="{{ url_for('user_dashboard' ) }}">Home</a></li>
            <li><a  href="{{ url_for('scores' ) }}">Scores</a></li>
            <li><a  href="{{ url_for('user_summary' ) }}">Summary</a></li>
            <li><a  href="{{ url_for('logout') }}">Logout</a></li>
        </ul>
    </div>
    <div class="search-greeting">
        <form method="get" action="/searched">
            <select name="category" style="width: 100px;margin-right:3px ;font-size: 1em;
            border: 2px solid var(--box-shadow); height: 35px; border-radius: 8px;">
            <option value="Score">Score</option>
            <option value="Date">Date</option>
        </select>
            <input type="text" name="query" placeholder="Search" style="padding: 3px; font-size: large;">
        </form>
        <h2>Welcome {{name}}</h2>
    </div>
    
</nav>
<script>
    window.onload = function() {
        let category = document.getElementsByName("category")[0];
        let input = document.getElementsByName("query")[0];
        let form = document.querySelector("form");

        category.addEventListener("click", function() {
            if (category.value === "Date") {
                input.type = "date";
            } else {
                input.value = ""
                input.type = "number"; 
            }
        })
        input.addEventListener("keydown", function(event) {
            if (event.key === "Enter" && category.value === "Date" && input.value) {
                form.submit();
            }
        });        
    };
</script>